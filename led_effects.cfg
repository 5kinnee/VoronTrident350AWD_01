#####################################################################
##                    LED EFFECTS CONFIGURATION - UPDATED
##          Created for Voron Trident with LED_Effect addon
#####################################################################
## This file defines LED effects for:
##   - LED_DiscoSticks (36 GRBW LEDs on frame)
##   - LED_Hotend (3 GRBW LEDs on toolhead)
##
## Effects respond to different printer states:
##   - Idle/Ready, Heat Soak, Heating, Printing, Error
#####################################################################

#####################################################################
##                    DISCO STICK EFFECTS (36 LEDs)
#####################################################################

## IDLE EFFECT - Gentle blue/green breathing (default at startup)
## UPDATED: Slowed down by 34% (8 -> 11 seconds)
[led_effect disco_idle]
autostart: true
frame_rate: 24
leds:
    neopixel:LED_DiscoSticks
layers:
    breathing 15 1 top (0.0, 0.1, 0.5, 0.0), (0.0, 0.5, 0.1, 0.0)
    # 11 second breathing cycle (was 8, now 34% slower)

## HEAT SOAK EFFECT - Deep red/orange breathing ONLY
## UPDATED: Deeper reds/oranges, no other colors
[led_effect disco_heat_soak]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_DiscoSticks
layers:
    breathing 10 1 top (0.8, 0.0, 0.0, 0.0), (1.0, 0.2, 0.0, 0.0)
    # Breathes between deep red and orange
    # (0.8, 0.0, 0.0, 0.0) = deep red
    # (1.0, 0.2, 0.0, 0.0) = orange (red + bit of green)

## HEATING EFFECT - White comet head with red/orange tail ONLY
## UPDATED: Simplified to white head -> orange -> red tail
[led_effect disco_heating]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_DiscoSticks
layers:
    comet 1.5 10 top (1.0, 1.0, 1.0, 0.0), (1.0, 0.3, 0.0, 0.0), (0.9, 0.0, 0.0, 0.0)
    # Speed 1.5 = moderate speed
    # Tail length 10 LEDs
    # White (1,1,1,0) -> Orange (1,0.3,0,0) -> Deep red (0.9,0,0,0)
    # Using 'top' blend mode to prevent other colors showing through

## PRINTING EFFECT - Slow breathing (no progress bar, no comet)
## UPDATED: Changed from progress bar to slow breathing
[led_effect disco_printing]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_DiscoSticks
layers:
    breathing 18 1 top (0.0, 0.1, 0.4, 0.0), (0.0, 0.4, 0.1, 0.0)
    # 18 second slow breathing cycle
    # Deep blue to deep green

## ERROR EFFECT - Red/White strobe (all LEDs flash together)
## UPDATED: Simplified to pure strobe effect
[led_effect disco_error]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_DiscoSticks
layers:
    strobe 2 1.0 top (1.0, 0.0, 0.0, 0.0), (1.0, 1.0, 1.0, 0.0)
    # Strobes between red and white
    # Speed 2 = fast strobe
    # All LEDs flash in unison
run_on_error: true

#####################################################################
##                    HOTEND LED EFFECTS (3 LEDs)
#####################################################################

## HOTEND IDLE - Subtle green indicator (status LED style)
[led_effect hotend_idle]
autostart: true
frame_rate: 24
leds:
    neopixel:LED_Hotend (1)
layers:
    static 0 0 top (0.0, 0.4, 0.0, 0.0)

## HOTEND HEAT_SOAK - Warm breathing to indicate heat soak active
## UPDATED: Match disco heat soak colors (red/orange only)
[led_effect hotend_heat_soak]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_Hotend
layers:
    breathing 10 1 top (0.8, 0.0, 0.0, 0.0), (1.0, 0.2, 0.0, 0.0)
    # Matches disco_heat_soak colors

## HOTEND HEATING - Warm pulsing effect during heating
## UPDATED: Match heating colors (red/orange)
[led_effect hotend_heating]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_Hotend
layers:
    breathing 3 1 top (1.0, 0.3, 0.0, 0.0), (0.9, 0.0, 0.0, 0.0)
    # Faster breathing orange to red

## HOTEND PRINTING - Bright white work light
[led_effect hotend_printing]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_Hotend
layers:
    static 0 0 top (0.0, 0.0, 0.0, 1.0)
    # Pure white using W channel

## HOTEND ERROR - Red strobe
## UPDATED: Match disco error strobe
[led_effect hotend_error]
autostart: false
frame_rate: 24
leds:
    neopixel:LED_Hotend
layers:
    strobe 2 1.0 top (1.0, 0.0, 0.0, 0.0), (1.0, 1.0, 1.0, 0.0)
    # Red/white strobe
run_on_error: true

#####################################################################
##                    LED EFFECT CONTROL MACROS
#####################################################################

## Individual effect activation macros
[gcode_macro LED_IDLE]
description: Activate idle LED effects (blue/green breathing)
gcode:
    SET_LED_EFFECT EFFECT=disco_idle
    SET_LED_EFFECT EFFECT=hotend_idle

[gcode_macro LED_HEAT_SOAK]
description: Activate heat soak LED effects (red/orange breathing)
gcode:
    SET_LED_EFFECT EFFECT=disco_heat_soak
    SET_LED_EFFECT EFFECT=hotend_heat_soak

[gcode_macro LED_HEATING]
description: Activate heating LED effects (white comet with red tail)
gcode:
    SET_LED_EFFECT EFFECT=disco_heating
    SET_LED_EFFECT EFFECT=hotend_heating

[gcode_macro LED_PRINTING]
description: Activate printing LED effects (slow breathing)
gcode:
    SET_LED_EFFECT EFFECT=disco_printing
    SET_LED_EFFECT EFFECT=hotend_printing

[gcode_macro LED_ERROR]
description: Activate error LED effects (red/white strobe)
gcode:
    SET_LED_EFFECT EFFECT=disco_error
    SET_LED_EFFECT EFFECT=hotend_error

#####################################################################
##                    MANUAL TEST MACROS
#####################################################################

[gcode_macro TEST_DISCO_IDLE]
description: Test the disco idle effect
gcode:
    RESPOND TYPE=command MSG="Testing DISCO_IDLE effect (blue/green breathing - slower)"
    SET_LED_EFFECT EFFECT=disco_idle

[gcode_macro TEST_DISCO_HEAT_SOAK]
description: Test the disco heat soak effect
gcode:
    RESPOND TYPE=command MSG="Testing DISCO_HEAT_SOAK effect (RED/ORANGE breathing only)"
    SET_LED_EFFECT EFFECT=disco_heat_soak

[gcode_macro TEST_DISCO_HEATING]
description: Test the disco heating effect
gcode:
    RESPOND TYPE=command MSG="Testing DISCO_HEATING effect (white head, red/orange tail only)"
    SET_LED_EFFECT EFFECT=disco_heating

[gcode_macro TEST_DISCO_PRINTING]
description: Test the disco printing effect
gcode:
    RESPOND TYPE=command MSG="Testing DISCO_PRINTING effect (slow breathing blue->green)"
    SET_LED_EFFECT EFFECT=disco_printing

[gcode_macro TEST_DISCO_ERROR]
description: Test the disco error effect
gcode:
    RESPOND TYPE=command MSG="Testing DISCO_ERROR effect (red/white strobe in unison)"
    SET_LED_EFFECT EFFECT=disco_error

[gcode_macro TEST_HOTEND_EFFECTS]
description: Cycle through all hotend effects for testing
gcode:
    RESPOND TYPE=command MSG="Testing hotend effects - Starting with IDLE"
    SET_LED_EFFECT EFFECT=hotend_idle
    G4 P5000
    RESPOND TYPE=command MSG="Testing HEAT_SOAK"
    SET_LED_EFFECT EFFECT=hotend_heat_soak
    G4 P5000
    RESPOND TYPE=command MSG="Testing HEATING"
    SET_LED_EFFECT EFFECT=hotend_heating
    G4 P5000
    RESPOND TYPE=command MSG="Testing PRINTING"
    SET_LED_EFFECT EFFECT=hotend_printing
    G4 P5000
    RESPOND TYPE=command MSG="Testing ERROR"
    SET_LED_EFFECT EFFECT=hotend_error
    G4 P5000
    RESPOND TYPE=command MSG="Test complete - returning to IDLE"
    LED_IDLE
